skrypt z pythona import_danych działa dla tak zdefiniowanych tabel - roznica w stosunku do tych, które Maja napisała w bibliotece jest taka, że w tabeli movies nie ma ograniczen na możliwość NULLi, a w people jest samo name a nie name i surname


CREATE TABLE people(
	person_id	INTEGER PRIMARY KEY,
	name		TEXT NOT NULL
);


CREATE TABLE movies (
	movie_id			INTEGER PRIMARY KEY,
	title 				TEXT,
	year_of_production		DATE, 
	time				INTEGER,
	description			TEXT
);

CREATE TABLE people_movies(
	person_id		INTEGER REFERENCES people(person_id) on delete cascade,
	movie_id		INTEGER REFERENCES movies(movie_id) on delete cascade,
	role			TEXT not null
);

CREATE TABLE genres(
	movie_id	INTEGER references movies(movie_id) on delete cascade,
	genre		TEXT not null
); 

create table countries (
	movie_id	INTEGER references movies(movie_id) on delete cascade,
	country		TEXT not null
);



=============================


create table users (
	user_id 	INTEGER primary key,
	nick 		TEXT not null,
	password 	TEXT not null
);


CREATE TABLE reviews(
	review_id		INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	user_id			INTEGER REFERENCES users(user_id) on delete cascade, 
	movie_id 		INTEGER REFERENCES movies(movie_id) on delete cascade,
	rate			INTEGER CHECK (rate >= 0 AND rate <= 10),
	date			DATE NOT NULL,
	review			TEXT
);

create table all_lists(
	list_id 		INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	user_id			INTEGER references users(user_id) on delete cascade,
	list_name		TEXT
);

create table list(
	list_id			INTEGER references all_lists(list_id) on delete cascade,
	movie_id		INTEGER references movies(movie_id) on delete cascade,
	status			BOOL
);



CREATE TABLE positions(
	position_id			INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	position_name			TEXT NOT NULL
);